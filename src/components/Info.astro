<div id="info" class="bg-white info-container">
  <div class="title-container">
    <h1 class="animated-title font-bold text-secondary-color">
      Familias profesionales
    </h1>
  </div>
  <div id="cards">
    <div id="card" class="bg-primary-color yellow block">
      <div class="text-content">
        <h3 class="wavy">
          <span style="--i:1;">I</span>
          <span style="--i:2;">n</span>
          <span style="--i:3;">a</span>
          <span style="--i:4;">u</span>
          <span style="--i:5;">g</span>
          <span style="--i:6;">u</span>
          <span style="--i:7;">r</span>
          <span style="--i:8;">a</span>
          <span style="--i:9;">c</span>
          <span style="--i:10;">i</span>
          <span style="--i:11;">ó</span>
          <span style="--i:12;">n</span>
        </h3>
        <div class="p-container">
          <p id="text">
            Descubre oportunidades en la Jornada de Emprendimiento del I.E.S.
            Albarregas. Un evento único donde empresas y alumnos se conectan
            cara a cara para compartir ideas, explorar colaboraciones y abrir
            puertas hacia un futuro profesional más cercano. ¡No te lo pierdas!
          </p>
        </div>
        <!-- Buttons -->
        <div class="flex gap-4 mt-4">
          <a target="_blank" href="https://drive.google.com/file/d/1dPAirjaa_sFvTHIyOXDt44g3u1l3-L6p/view?usp=sharing"><button class="py-2 px-4 bg-[#FDC01A] text-white rounded">Horario</button></a>
        </div>
      </div>
      <div class="img-container">
        <img
          id="yellowLight"
          src="images/info/yellow.webp"
          alt="Bombilla amarilla"
        />
      </div>
    </div>

    <div id="card" class="bg-primary-color green block">
      <div class="img-container">
        <img
          id="greenLight"
          src="images/info/green.webp"
          alt="Bombilla verde"
        />
      </div>
      <div class="text-content">
        <h3 class="wavy">
          <span style="--i:1;">A</span>
          <span style="--i:2;">d</span>
          <span style="--i:3;">m</span>
          <span style="--i:4;">i</span>
          <span style="--i:5;">n</span>
          <span style="--i:6;">i</span>
          <span style="--i:7;">s</span>
          <span style="--i:8;">t</span>
          <span style="--i:9;">r</span>
          <span style="--i:10;">a</span>
          <span style="--i:11;">c</span>
          <span style="--i:12;">i</span>
          <span style="--i:13;">ó</span>
          <span style="--i:14;">n</span>
          <span style="--i:15;">&nbsp;</span>
          <span style="--i:16;">y</span>
          <span style="--i:17;">&nbsp;</span>
          <span style="--i:18;">G</span>
          <span style="--i:19;">e</span>
          <span style="--i:20;">s</span>
          <span style="--i:21;">t</span>
          <span style="--i:22;">i</span>
          <span style="--i:23;">ó</span>
          <span style="--i:24;">n</span>
        </h3>
        <div class="p-container">
          <p id="text">
            Descubre cómo las competencias en administración y gestión pueden
            marcar la diferencia en el mundo del emprendimiento. Durante esta
            jornada, exploraremos casos prácticos, herramientas innovadoras y
            estrategias clave que impulsan a los futuros gestores y
            administrativos a crear y liderar sus propios proyectos con éxito.
            ¡Es tu oportunidad para conectar teoría y práctica en el apasionante
            universo de los negocios!
          </p>
        </div>
        <!-- Buttons -->
        <div class="flex gap-4 mt-4 justify-end">
          <a target="_blank" href="https://drive.google.com/file/d/1hKP2orm3y1_SWvyLHZ1elZ7ugwiMGeLZ/view?usp=sharing"><button class="py-2 px-4 bg-[#008000] text-white rounded">Horario</button></a>
        </div>
      </div>
    </div>

    <div id="card" class="bg-primary-color blue block">
      <div class="text-content">
        <h3 class="wavy">
          <span style="--i:1;">C</span>
          <span style="--i:2;">o</span>
          <span style="--i:3;">m</span>
          <span style="--i:4;">e</span>
          <span style="--i:5;">r</span>
          <span style="--i:6;">c</span>
          <span style="--i:7;">i</span>
          <span style="--i:8;">o</span>
          <span style="--i:9;">&nbsp; </span>
          <span style="--i:10;">y</span>
          <span style="--i:11;">&nbsp;</span>
          <span style="--i:12;">M</span>
          <span style="--i:13;">a</span>
          <span style="--i:14;">r</span>
          <span style="--i:15;">k</span>
          <span style="--i:16;">e</span>
          <span style="--i:17;">t</span>
          <span style="--i:18;">i</span>
          <span style="--i:19;">n</span>
          <span style="--i:20;">g</span>
        </h3>
        <div class="p-container">
          <p>
            El comercio y el marketing son la columna vertebral de cualquier
            emprendimiento exitoso. En esta jornada, aprenderás a diseñar
            estrategias de venta efectivas, a utilizar las redes sociales para
            captar clientes y a analizar las tendencias del mercado para
            destacar en un entorno competitivo. Únete a nosotros y da el primer
            paso hacia tu futuro como emprendedor creativo e innovador.
          </p>
        </div>
        <!-- Buttons -->
        <div class="flex gap-4 mt-4">
          <a target="_blank" href="https://drive.google.com/file/d/1U9T29pMaCNVMRvGyjnG8R0XXQlrrIimX/view?usp=sharing"><button class="py-2 px-4 bg-[#0000FF] text-white rounded">Horario</button></a>
        </div>
      </div>
      <div class="img-container">
        <img id="blueLight" src="images/info/blue.webp" alt="Bombilla azul" />
      </div>
    </div>

    <div id="card" class="bg-primary-color red block">
      <div class="img-container">
        <img id="redLight" src="images/info/red.webp" alt="Bombilla roja" />
      </div>
      <div class="text-content">
        <h3 class="wavy">
          <span style="--i:1;">I</span>
          <span style="--i:2;">n</span>
          <span style="--i:3;">f</span>
          <span style="--i:4;">o</span>
          <span style="--i:5;">r</span>
          <span style="--i:6;">m</span>
          <span style="--i:7;">á</span>
          <span style="--i:8;">t</span>
          <span style="--i:9;">i</span>
          <span style="--i:10;">c</span>
          <span style="--i:11;">a</span>
        </h3>
        <div class="p-container">
          <p>
            Las "Jornadas Tecnológicas del I.E.S. Albarregas" es una oportunidad
            única para que los estudiantes y la comunidad educativa conozcan de
            cerca el mundo de la tecnología y el emprendimiento. Este evento se
            enmarca dentro del Proyecto de Cultura Emprendedora y utiliza la
            Formación Profesional Dual como un elemento clave para conectar la
            educación con el entorno laboral.
          </p>
        </div>
        <!-- Buttons -->
        <div class="flex gap-4 mt-4 justify-end">
          <a target="_blank" href="https://drive.google.com/file/d/1U40NY5v66vtTUXVK-jdVJlhYmhP62YxN/view?usp=sharing"><button class="py-2 px-4 bg-red-600 text-white rounded">Horario</button></a>
        </div>
      </div>
    </div>

    <div id="card" class="bg-primary-color purple block">
      <div class="text-content">
        <h3 class="wavy">
          <span style="--i:1;">E.</span>
          <span style="--i:2;">S.</span>
          <span style="--i:3;">O.</span>
          <span style="--i:4;">&nbsp;</span>
          <span style="--i:5;">y</span>
          <span style="--i:6;">&nbsp;</span>
          <span style="--i:7;">B</span>
          <span style="--i:8;">a</span>
          <span style="--i:9;">c</span>
          <span style="--i:10;">h</span>
          <span style="--i:11;">i</span>
          <span style="--i:12;">l</span>
          <span style="--i:13;">l</span>
          <span style="--i:14;">e</span>
          <span style="--i:15;">r</span>
          <span style="--i:16;">a</span>
          <span style="--i:17;">t</span>
          <span style="--i:18;">o</span>
        </h3>
        <div class="p-container">
          <p>¿Tienes una idea y no sabes por dónde empezar? La jornada de emprendimiento está diseñada para inspirar a los jóvenes de ESO y Bachillerato a explorar el mundo empresarial de manera divertida y dinámica. A través de talleres interactivos y charlas motivadoras, descubrirás cómo convertir tus ideas en proyectos reales y cómo las habilidades que aprendes en clase son fundamentales para emprender.</p>
        </div>
        <!-- Buttons -->
        <div class="flex gap-4 mt-4">
          <a target="_blank" href="https://drive.google.com/file/d/1Q-bpTFAvc-Tn-0albxGw_00C-REQBXZR/view?usp=sharing"><button class="py-2 px-4 bg-[#800080] text-white rounded">Horario</button></a>
        </div>
      </div>
      <div class="img-container">
        <img
          id="purpleLight"
          src="images/info/purple.webp"
          alt="Bombilla morada"
        />
      </div>
    </div>
  </div>
</div>

<style>
  .info-container {
    padding: 2.5rem;
  }

  #cards {
    display: flex;
    flex-direction: column;
    gap: 20px;
    max-width: 900px;
    margin: 0 auto;
    width: 100%;
    margin-bottom: 20px;
  }

  #card {
    display: flex;
    align-items: center;
    width: 100%;
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
    transition:
      opacity 0.5s ease,
      transform 3s ease;
  }

  #card:nth-child(odd) {
    transform: translateX(-100px);
  }

  #card:nth-child(even) {
    transform: translateX(50px);
  }

  #card.visible {
    opacity: 1;
    transform: translateX(0);
  }

  #card:hover {
    transform: scale(1.02);
  }

  .green {
    border: 2px solid green;
  }

  .green h3 {
    border-bottom: 2px solid green;
    color: green;
  }

  .blue {
    border: 2px solid blue;
  }

  .blue h3 {
    border-bottom: 2px solid blue;
    color: blue;
  }

  .red {
    border: 2px solid red;
  }

  .red h3 {
    border-bottom: 2px solid red;
    color: red;
  }

  .purple {
    border: 2px solid purple;
  }

  .purple h3 {
    border-bottom: 2px solid purple;
    color: purple;
  }

  .yellow {
    border: 2px solid #fdc01a;
  }

  .yellow h3 {
    border-bottom: 2px solid #fdc01a;
    color: #fdc01a;
  }

  .img-container {
    width: 30%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
  }

  .img-container img {
    max-height: 250px;
    max-width: 100%;
    object-fit: contain;
  }

  .text-content {
    width: 70%;
    padding: 35px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  h3 {
    font-size: 1rem;
    margin-bottom: 15px;
    padding-bottom: 10px;
    text-shadow: 1px 1px 2px rgb(63, 63, 63);
  }

  .wavy {
    position: relative;
  }

  .wavy span {
    position: relative;
    display: inline-block;
    font-size: 2rem;
    margin: -2px;
    animation: wave 1.7s ease-in-out;
    animation-delay: calc(0.1s * var(--i));
    animation-play-state: paused;
  }

  @keyframes wave {
    0% {
      transform: translateY(0px);
    }

    20% {
      transform: translateY(-20px);
    }

    40%,
    100% {
      transform: translateY(0px);
    }
  }

  .p-container {
    width: 100%;
  }

  .p-container p {
    color: black;
    line-height: 1.6;
    text-wrap: pretty;
    animation: appearText 1s ease;
    animation-play-state: paused;
  }

  @keyframes appearText {
    from {
      opacity: 0;
      transform: translateY(50px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  #blueLight,
  #redLight,
  #greenLight,
  #yellowLight,
  #purpleLight {
    animation-play-state: paused;
  }

  #blueLight {
    animation: glowBlue 3s ease-in-out forwards;
  }

  #redLight {
    animation: glowRed 3s ease-in-out forwards;
  }

  #greenLight {
    animation: glowGreen 3s ease-in-out forwards;
  }

  #purpleLight {
    animation: glowPurple 3s ease-in-out forwards;
  }

  #yellowLight {
    animation: glowYellow 3s ease-in-out forwards;
  }

  @keyframes glowBlue {
    from {
      filter: drop-shadow(2px 2px 2px rgba(0, 0, 255, 0.1));
    }

    to {
      filter: drop-shadow(2px 2px 10px blue);
    }
  }

  @keyframes glowGreen {
    from {
      filter: drop-shadow(2px 2px 2px rgba(0, 255, 0, 0.1));
    }

    to {
      filter: drop-shadow(2px 2px 10px rgb(0, 255, 0));
    }
  }

  @keyframes glowRed {
    from {
      filter: drop-shadow(2px 2px 2px rgba(255, 0, 0, 0.1));
    }

    to {
      filter: drop-shadow(2px 2px 10px red);
    }
  }

  @keyframes glowPurple {
    from {
      filter: drop-shadow(2px 2px 2px rgba(128, 0, 128, 0.1));
    }

    to {
      filter: drop-shadow(2px 2px 10px rgb(255, 0, 255));
    }
  }

  @keyframes glowYellow {
    from {
      filter: drop-shadow(2px 2px 2px #fdc01a00);
    }

    to {
      filter: drop-shadow(2px 2px 10px #fdc01a);
    }
  }

  .title-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 80px;
    overflow: hidden;
    margin: 15px;
  }

  .animated-title {
    font-size: 3rem;
    animation: fade-in 1s ease-in-out;
  }

  .animated-title::after {
    content: "";
    display: block;
    width: 100%;
    height: 4px;
    margin-top: 10px;
  }

  .animated-title {
    opacity: 0;
    transform: translateY(50px);
    animation-play-state: paused;
  }

  .animated-title.visible {
    opacity: 1;
    transform: translateY(0);
    animation: fade-in 1.5s ease-in-out;
    animation-play-state: running;
  }

  @keyframes gradient-slide {
    0% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }

    100% {
      background-position: 0% 50%;
    }
  }

  @keyframes fade-in {
    0% {
      opacity: 0;
      transform: translateY(-60px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes pulse {
    0%,
    100% {
      opacity: 0.7;
    }

    50% {
      opacity: 1;
    }
  }

  /* Mobile - Large (414px) */
  @media (max-width: 1439px) and (min-width: 361px) {
    .info-container {
      padding: 1rem;
    }

    #card {
      flex-direction: column;
      height: auto;
    }

    #card:nth-child(odd),
    #card:nth-child(even) {
      transform: translateY(30px);
    }

    .img-container,
    .text-content {
      width: 100%;
    }

    .img-container {
      padding: 10px;
      order: -1;
    }

    .img-container img {
      max-height: 200px;
    }

    h3 {
      text-align: center;
      font-size: 0.95rem;
    }

    .text-content {
      padding: 25px;
    }

    .animated-title {
      font-size: 1.7rem;
    }

    .wavy span {
      font-size: 1.45rem;
    }

    .p-container p {
      line-height: 1.55;
      font-size: 0.95rem;
    }

    .title-container {
      margin: 20px;
      height: 70px;
    }

    #cards {
      max-width: 800px;
      padding-left: 10px;
      padding-right: 10px;
      gap: 15px;
    }
  }

  /* Mobile - Small (360px) */
  @media (max-width: 361px) {
    .title-container {
      margin: 5px;
    }

    .animated-title {
      font-size: 1.5rem;
    }

    .wavy span {
      font-size: 1.4rem;
    }

    #cards {
      padding: 10px;
    }

    #card {
      border-radius: 8px;
    }

    .img-container img {
      max-height: 120px;
    }

    h3 {
      font-size: 0.65rem;
      /*margin-bottom: 10px;*/
      align-self: center;
    }

    .text-content {
      padding: 15px;
      flex: 1;
    }

    span {
      font-size: 0.1rem;
    }

    .p-container p {
      line-height: 1.4;
    }

    .img-container {
      display: none;
    }
    .content {
      height: 400px;
    }
  }

  button{
    box-shadow: rgba(45, 35, 66, 0.4) 0 2px 4px, rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #5d5d62 0 -3px 0 inset;
  }

  p{
    text-wrap: balance;
  }

</style>

<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
<script is:inline>
  function openModal(modalId) {
    document.getElementById(modalId).classList.remove("hidden");
    document.body.classList.add("overflow-hidden");
  }

  function closeModal(modalId) {
    document.getElementById(modalId).classList.add("hidden");
    document.body.classList.remove("overflow-hidden");
  }

  // Seleccionamos todas las tarjetas
  const cards = document.querySelectorAll("#card");

  // Creamos el observer para detectar cuando las tarjetas son visibles
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const card = entry.target;

          // Añadir clase de visibilidad
          card.classList.add("visible");

          // Animaciones para imagen
          const lightImage = card.querySelector('img[id$="Light"]');
          if (lightImage) {
            lightImage.style.animationPlayState = "running";
          }

          // Animaciones para texto
          const paragraphs = card.querySelectorAll(".p-container p");
          paragraphs.forEach((p) => {
            p.style.animationPlayState = "running";
          });

          // Animación de letras
          const h3 = card.querySelector("h3.wavy");
          if (h3) {
            const spans = h3.querySelectorAll("span");
            spans.forEach((span) => {
              span.style.animationPlayState = "running";
            });
          }

          // Deja de observar la tarjeta después de que entre en el viewport
          observer.unobserve(card);
        }
      });
    },
    {
      threshold: 0.1, // Dispara la animación cuando una pequeña parte de la tarjeta es visible
    },
  );

  // Preparar las tarjetas antes de observarlas
  cards.forEach((card) => {
    // Pausar todas las animaciones inicialmente
    const lightImage = card.querySelector('img[id$="Light"]');
    if (lightImage) {
      lightImage.style.animationPlayState = "paused";
    }

    const paragraphs = card.querySelectorAll(".p-container p");
    paragraphs.forEach((p) => {
      p.style.animationPlayState = "paused";
    });

    const h3 = card.querySelector("h3.wavy");
    if (h3) {
      const spans = h3.querySelectorAll("span");
      spans.forEach((span) => {
        span.style.animationPlayState = "paused";
      });
    }

    // Comenzar a observar cada tarjeta
    observer.observe(card);
  });

  // Seleccionar el contenedor del título
  const titleContainer = document.querySelector(".title-container");

  // Crear el observer para detectar visibilidad del contenedor
  const titleObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          // Añadir clase para activar la animación
          entry.target
            .querySelector(".animated-title")
            .classList.add("visible");

          // Detener la observación después de activar la animación
          titleObserver.unobserve(entry.target);
        }
      });
    },
    {
      threshold: 0.5, // Dispara la animación cuando el 50% del contenedor sea visible
    },
  );

  // Iniciar la observación del contenedor
  titleObserver.observe(titleContainer);
</script>
